# å‘½ä»¤

## ç›®å½•

-   [æŸ¥çœ‹å‘½ä»¤](#æŸ¥çœ‹å‘½ä»¤)
    -   [head](#head)
    -   [tail](#tail)
-   [ä¸‹è½½å‘½ä»¤](#ä¸‹è½½å‘½ä»¤)
    -   [wget](#wget)
    -   [curl](#curl)
    -   [rz-sz](#rz-sz)
-   [æŸ¥è¯¢å‘½ä»¤](#æŸ¥è¯¢å‘½ä»¤)
    -   [which](#which)
    -   [whereis](#whereis)
-   [è¿‡æ»¤ï¼ˆè¡Œï¼‰](#è¿‡æ»¤è¡Œ)
    -   [grep è¿‡æ»¤æ–‡ä»¶å†…å®¹ï¼Œä¿ç•™ç¬¦åˆæ‰€å†™æ¡ä»¶çš„](#grep-è¿‡æ»¤æ–‡ä»¶å†…å®¹ä¿ç•™ç¬¦åˆæ‰€å†™æ¡ä»¶çš„)
-   [å–åˆ—ï¼ˆåˆ—ï¼‰](#å–åˆ—åˆ—)
    -   [awk](#awk)
-   [æ›¿æ¢ï¼ˆå­—ç¬¦ï¼‰](#æ›¿æ¢å­—ç¬¦)
    -   [sed](#sed)
-   [æ’åº-å»é‡](#æ’åº-å»é‡)
    -   [sortæ’åº](#sortæ’åº)
-   [ç»Ÿè®¡](#ç»Ÿè®¡)
    -   [uniq](#uniq)
    -   [cut](#cut)
    -   [wc](#wc)

## æŸ¥çœ‹å‘½ä»¤

### head

```bash
head pass #æŸ¥çœ‹å¤´éƒ¨å‰åè¡Œæ–‡ä»¶
head -n5 pass #æŸ¥çœ‹å‰äº”è¡Œæ–‡ä»¶ 
```

### tail

```bash
tail pass #æŸ¥çœ‹å°¾éƒ¨æ–‡ä»¶ é»˜è®¤ååè¡Œ
tail -number æ–‡ä»¶ä½ç½®#æŸ¥çœ‹æ–‡ä»¶ånumberè¡Œ
tail -fï¼ˆæˆ–tailfï¼‰ æ–‡ä»¶ä½ç½® #æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨å˜åŒ–ï¼Œç›‘æ§
```

## ä¸‹è½½å‘½ä»¤

![](image/image_syauBNDbCa.png)

### wget

centosæœ€å°åŒ–å®‰è£…é»˜è®¤çš„æ²¡æœ‰wgetï¼Œéœ€è¦è¿›è¡Œå®‰è£…

```bash
yum install wget -y  
```

ä¸‹è½½äº’è”ç½‘ä¸Šæ–‡ä»¶åˆ°æœ¬åœ°

```bash
wget æ–‡ä»¶åœ°å€#ä¸‹è½½åˆ°å½“å‰ç›®å½•
```

å°†æ–‡ä»¶ä¸‹è½½åˆ°æŒ‡å®šç›®å½•

```bash
wget -O æŒ‡å®šç›®å½• è¦ä¸‹è½½çš„æ–‡ä»¶åœ°å€#ä¸‹è½½åˆ°æŒ‡å®šç›®å½•
```

### curl

ä»…æŸ¥çœ‹åœ°å€æ–‡ä»¶çš„å†…å®¹

```bash
curl æ–‡ä»¶åœ°å€
```

å°†æŸä¸ªåœ°å€å†…çš„æ–‡ä»¶ä¸‹è½½éƒ½æŒ‡å®šç›®å½•å¹¶ä¿®æ”¹ä¸ºxx

```bash
curl -o æŒ‡å®šç›®å½•/xx æ–‡ä»¶åœ°å€
```

### rz-sz

éœ€è¦å®‰è£…å‘½ä»¤åŒ…ï¼Œå¦åˆ™åˆ™æ— æ³•ä½¿ç”¨å‘½ä»¤

```bash
yum install lrzsz -y#ï¼ˆyè¡¨ç¤ºç¡®è®¤å®‰è£…ï¼‰
rz # åªèƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œä¸æ”¯æŒä¸Šä¼ æ–‡ä»¶å¤¹ï¼Œä¸æ”¯æŒå¤§äº4Gæ–‡ä»¶ï¼Œä¹Ÿä¸æ”¯æŒæ–­ç”µç»­ä¼ 
sz # åªèƒ½ä¸‹è½½æ–‡ä»¶ï¼Œä¸æ”¯æŒä¸‹è½½æ–‡ä»¶å¤¹
```

> ğŸ“Œæ–‡ä»¶ä¸‹è½½ä¸Šä¼ æ¨èä½¿ç”¨xftpå·¥å…·

## æŸ¥è¯¢å‘½ä»¤

### which

```bash
which å‘½ä»¤ #æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹è·¯å¾„
type -a å‘½ä»¤ #æŸ¥çœ‹å‘½ä»¤çš„ç»å¯¹å‘½ä»¤ï¼ˆåŒ…æ‹¬åˆ«åï¼‰ 
```

### whereis

```bash
whereis å‘½ä»¤ #æŸ¥æ‰¾å‘½ä»¤çš„è·¯å¾„ã€å¸®åŠ©æ‰‹å†Œç­‰
whereis -b å‘½ä»¤ #ä»…æ˜¾ç¤ºå‘½ä»¤æ˜¾ç¤ºçš„è·¯å¾„ 
```

> ğŸ“ŒæŸ¥è¯¢æ˜¯æŸ¥è¯¢å‘½ä»¤ä¸æ˜¯æŸ¥è¯¢æ–‡ä»¶ï¼Œç›¸å¯¹è·¯å¾„çš„æ–‡ä»¶å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚

> ğŸ“ŒæŸ¥æ‰¾å¤±è´¥åŸå› ï¼š

&#x20;                1.æ ¹æœ¬ä¸å­˜åœ¨è¿™ä¸ªå‘½ä»¤

&#x20;                2.æ²¡æœ‰å®‰è£…è¿™ä¸ªå‘½ä»¤

## è¿‡æ»¤ï¼ˆè¡Œï¼‰

### grep è¿‡æ»¤æ–‡ä»¶å†…å®¹ï¼Œä¿ç•™ç¬¦åˆæ‰€å†™æ¡ä»¶çš„

```bash
grep "^æ¡ä»¶"  æ–‡ä»¶ä½ç½® #åŒ¹é…å¼€å¤´ç¬¦åˆæ¡ä»¶çš„è¡Œ
grep "æ¡ä»¶$"  æ–‡ä»¶ä½ç½® #åŒ¹é…ç»“å°¾ç¬¦åˆæ¡ä»¶çš„è¡Œ
grep -v "æ¡ä»¶" æ–‡ä»¶ä½ç½® #åŒ¹é…é™¤äº†åŒ…å«æ¡ä»¶ä»¥å¤–çš„å†…å®¹ï¼Œå…¶ä»–çš„å…¨éƒ¨æ‰“å° 
grep -i "æ¡ä»¶" æ–‡ä»¶ä½ç½® #å¿½ç•¥å¤§å°å†™
grep -Ei "æ¡ä»¶$|å­—ç¬¦" æ–‡ä»¶ä½ç½® #åŒ¹é…æ–‡ä»¶ä¸­åŒ…å«æ¡ä»¶ç»“å°¾æˆ–ç¬¦åˆå­—ç¬¦çš„æ¡ä»¶çš„è¡Œ
-i #æœç´¢æ—¶å¿½ç•¥å¤§å°å†™.
-n #åˆ—å‡ºæ‰€æœ‰åŒ¹é…çš„è¡Œï¼Œæ˜¾ç¤ºè¡Œå·
-E #åŒ¹é…å¤šä¸ªæ¡ä»¶ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„æ‰©å±•
-o #è¾“å‡ºæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ†
^å¼€å¤´å­—ç¬¦
$ç»“å°¾å­—ç¬¦ 
-v #å–åï¼Œå–ä¸ç¬¦åˆæ¡ä»¶çš„è¡Œ 
^[^å­—ç¬¦] 
```

## å–åˆ—ï¼ˆåˆ—ï¼‰

### awk

-F æŒ‡å®šåˆ†éš”ç¬¦ï¼ˆæ‹†åˆ†æˆå¤šåˆ—ï¼‰

'{print \$n}' æå–å…¶ä¸­æŸåˆ—

awk '/å­—ç¬¦/' ç­›é€‰ç¬¦åˆå­—ç¬¦çš„è¡Œ

è‹¥æƒ³åœ¨æå–çš„å¤šä¸ªåˆ—ä¸­ç©ºéš™åŠ å­—ç¬¦

```bash
awk  '{print $num"å­—ç¬¦"$num}' æ–‡ä»¶
awk  'END{print NR}' æ–‡ä»¶ #æ‰“å°æ–‡ä»¶æ€»è¡Œæ•°
awk  'NR==1{print}' æ–‡ä»¶ #æ‰“å°æ–‡ä»¶ç¬¬ä¸€è¡Œ
awk  'NR=num && nR=num'#æ‰“å°ç¬¬å‡ è¡Œåˆ°ç¬¬å‡ è¡Œ
awk  'NR!=1{print}' #æ‰“å°æ–‡ä»¶é™¤ç¬¬ä¸€è¡Œå¤–
awk  '{print NF}' æ–‡ä»¶ #æŸ¥çœ‹æ–‡ä»¶åˆ—æ•°
-F 'æ¡ä»¶' #ä»¥æ¡ä»¶ä¸ºåˆ†éš”ç¬¦è¿›è¡ŒæŸ¥çœ‹æ–‡ä»¶åˆ—æ•°
awk  '{print length,$0}' #ç»Ÿè®¡å­—ç¬¦çš„ä¸ªæ•°å¹¶è¾“å‡ºåœ¨ç¬¬ä¸€åˆ—
awk -F '[: ] +'å¤šä¸ªç©ºæ ¼å½“åˆ†éš”ç¬¦
```

egï¼šä»¥â€œ:â€ä¸ºåˆ†éš”ç¬¦ï¼Œå–å‡º/etc/passwdç¬¬ä¸€è¡Œçš„æœ€åä¸€åˆ—çš„å†…å®¹

![](image/image_T_8qi6sIKE.png)

å–å‡ºå½“å‰linuxæ“ä½œç³»ç»Ÿçš„DNS /etc/sysconfig/network-scripts/ifcfg- \*ã€‚

![](image/image_PCaA9WsgKy.png)

ä»¥ï¼šä¸ºåˆ†éš”ç¬¦æŸ¥çœ‹æ–‡ä»¶ç¬¬åå››è¡Œæœ‰å¤šå°‘åˆ—

```bash
awk -F ':' '{print NF}' æ–‡ä»¶ | sed -n '14p'
```

![](image/image_El1tcRNz02.png)

æ€ä¹ˆæŒ‰ç…§å­—ç¬¦çš„ä¸ªæ•°å¯¹ä¸€å †å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Ÿ
ä¾‹å¦‚ï¼šMikeï¼Œguyï¼Œloï¼Œarchieï¼Œè®©ä»–æŒ‰ç…§å­—ç¬¦ä»å°‘åˆ°å¤šæ’åºï¼Œé¢„æœŸæ’åºä¸ºï¼šloï¼Œguyï¼ŒMIkeï¼Œarchieã€‚

```bash
awk '{print length,$0}' 1.txt | sort -n
```

![](image/image_ZGxfWAHIKv.png)

## æ›¿æ¢ï¼ˆå­—ç¬¦ï¼‰

### sed

æ›¿æ¢

```bash
sed 's#æ—§#æ–°#g' æ–‡ä»¶åç§° 
```

åŒ¹é…

```bash
sed -r 's#()()()#\1\2\3#g' æ‰“å°åˆ°å±å¹•
sed -r 's#()()()#rm -f \1\2\#g' |bash #è¿ç”¨bashè§£é‡Šå‘½ä»¤
```

```bash
sed -n 'num,num+p'ï¼Œç­›é€‰ä»ç¬¬å‡ è¡Œåˆ°ç¬¬å‡ è¡Œ

```

![](image/image_JPYoHu0Rqf.png)

æ‰“å°æ–‡æœ¬ç¬¬äºŒè¡Œç¬¬ä¸€åˆ—

```bash
sed -n "2,1p" filename |awk 'print $1'
```

## æ’åº-å»é‡

### sortæ’åº

æŸäº›æƒ…å†µä¸‹ï¼Œéœ€è¦å¯¹ä¸€ä¸ªæ— åºçš„æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ•°æ®è¿›è¡Œæ’åºæ­¤æ—¶éœ€è¦ç”¨sortæ’åº

```bash
sort [OPTION]....[FILE]...
å‚æ•° #-r:å€’åº  -nï¼šæŒ‰æ•°å­—æ’åº -tï¼šï¼ˆsort -t "ç¬¦å·" ï¼‰æŒ‡å®šåˆ†éš”ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰
#-k:æŒ‡å®šå‡ åˆ—å‡ å­—ç¬¦ï¼ˆæŒ‡å®š1,1  3.1,3.3ï¼‰
sort -t "å­—ç¬¦" -kåˆ—æ•°  #æ–‡æœ¬æ–‡ä»¶æŒ‡å®šåˆ†éš”ç¬¦å¯¹ç¬¬å‡ åˆ—è¿›è¡Œæ’åº
```

## ç»Ÿè®¡

### uniq

å¦‚æœæ–‡ä»¶ä¸­æœ‰å¤šè¡Œå®Œå…¨ç›¸åŒçš„å†…å®¹ï¼Œå¸Œæœ›åˆ é™¤é‡å¤çš„è¡Œï¼ŒåŒæ—¶ç»Ÿè®¡å‡ºå®Œå…¨ç›¸åŒçš„è¡Œçš„æ€»æ¬¡æ•°ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤uniqè§£å†³ï¼ˆä½†æ˜¯å¿…é¡»é…åˆsortä½¿ç”¨ï¼‰

uniq \[OPTION]...\[INPUT \[OUTPUT]]

```bash
#é€‰é¡¹ï¼š-c è®¡ç®—æœºé‡å¤çš„è¡Œ
#ä½¿ç”¨ 1ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶
#2ï¼Œuniqéœ€è¦å’Œsortä¸€èµ·ä½¿ç”¨ï¼Œå…ˆä½¿ç”¨sortè¿›è¡Œæ’åºï¼Œè®©é‡å¤å†…å®¹è¿ç»­åœ¨ä¸€èµ·
#3ï¼Œä½¿ç”¨uniqå»é™¤ç›¸é‚»é‡å¤çš„è¡Œ
#4ï¼Œ-cå‚æ•°èƒ½ç»Ÿè®¡å‡ºæ–‡ä»¶ä¸­æ¯è¡Œå†…å®¹é‡å¤çš„æ¬¡æ•°
```

å°†"web3\_access.log"ä¸Šä¼ è‡³ä½ çš„linuxæœåŠ¡å™¨
ï¼ˆ1ï¼‰ç»Ÿè®¡å‡ºè¯¥æ–‡ä»¶IPåœ°å€å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶æŒ‰æ­£åºå¯¹å…¶è¿›è¡Œæ’åº

![](image/image_Fzyuu_cU_R.png)

ï¼ˆ2ï¼‰ç»Ÿè®¡è¯¥æ–‡ä»¶å†…HTTPçŠ¶æ€è¿”å›ç å‡ºç°çš„æ¬¡æ•°ï¼ˆä¾‹å¦‚200,404,403,åœ¨ç¬¬ä¹åˆ—ï¼‰,å¹¶æŒ‰ç…§å€’åºè¿›è¡Œæ’åº

![](image/image_Z2oUbTJOEN.png)

ï¼ˆ3ï¼‰è¿‡æ»¤å‡ºæ‰€æœ‰çŠ¶æ€è¿”å›ç æ˜¯200çš„è¡Œï¼Œå¹¶å°†è¿™äº›è¿”å›ç ä¸º200è¡Œçš„å…¨éƒ¨æ›¿æ¢æˆ300

![](image/image_lYLzNr-wJj.png)

åŒ¹é…/etc/passwdé‡ŒåŒ…å«rootå…³é”®å­—çš„è¡Œï¼ˆè¦æ±‚è‡³å°‘ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«ä½¿ç”¨awkå’Œgrepï¼‰

![](image/image_2Krmz4gKej.png)

![](image/image_DH5bxO-2_R.png)

```bash
sed -n '/root/p' /etc/passwd #æ‰©å±•
```

### cut

```bash
cut OPTION...[FILE]...#è¯­æ³•ç»“æ„
cut -d "å­—ç¬¦" -f numberï¼Œnubmber æ–‡ä»¶ä½ç½® #æŒ‡å®šåœ¨æ–‡ä»¶ç¬¬å‡ åˆ—å’Œç¬¬å‡ åˆ—çš„æŒ‡å®šåˆ†éš”ç¬¦è¿›è¡Œåˆ†å‰² 
```

### wc

```bash
wc [OPTION]...[FILE]...
#é€‰é¡¹ï¼š-læ˜¾ç¤ºæ–‡ä»¶è¡Œæ•°  -cæ˜¾ç¤ºæ–‡ä»¶å­—èŠ‚  -wæ˜¾ç¤ºæ–‡ä»¶å•è¯
wc -l æ–‡ä»¶ä½ç½® #ç»Ÿè®¡æ–‡ä»¶ä¸­æœ‰å¤šå°‘è¡Œ 
```

> ğŸ“Œæ‰©å±•ç»Ÿè®¡æ–‡ä»¶è¡Œå·æ–¹æ³•ï¼š

grep -n ". \*" æ–‡ä»¶ |tail -1

cat -n ". \*" æ–‡ä»¶ |tail -1

awk '{print NR \$0}' æ–‡ä»¶ |tail -1
